<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Simulasi Kredit Mobil - IMS Finance</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
</head>
<body>
  <div class="container py-5">
    <div class="row justify-content-center">
      <div class="col-md-8">
        <div class="card shadow-lg border-0">
          <div class="card-header bg-primary text-white text-center">
            <h4>Simulasi Kredit Mobil - IMS Finance</h4>
          </div>
          <div class="card-body">
            <form id="formAngsuran">
              <div class="mb-3">
                <label class="form-label">Nama Klien</label>
                <input type="text" class="form-control" id="client" placeholder="Contoh: Sugus">
              </div>
              <div class="mb-3">
                <label class="form-label">Harga Mobil (OTR)</label>
                <input type="number" class="form-control" id="otr" placeholder="Contoh: 240000000">
              </div>
              <div class="mb-3">
                <label class="form-label">Down Payment (DP) %</label>
                <input type="number" class="form-control" id="dp" placeholder="Contoh: 20">
              </div>
              <div class="mb-3">
                <label class="form-label">Tenor (dalam tahun, contoh: 1 untuk 12 bulan)</label>
                <input type="number" class="form-control" id="tenor_tahun" placeholder="Contoh: 1.5" step="0.1">
              </div>
              <button type="button" class="btn btn-primary w-100" onclick="hitungAngsuran()">Hitung Angsuran</button>
            </form>
            <div id="hasilAngsuran" class="mt-4 alert alert-info d-none"></div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <script>
    function hitungAngsuran() {
      const client = document.getElementById('client').value.trim();
      const otr = document.getElementById('otr').value.trim();
      const dp = document.getElementById('dp').value.trim();
      const tenor = document.getElementById('tenor_tahun').value.trim();

      if (!client) {
        alert("Nama klien wajib diisi!");
        return;
      }
      if (!otr) {
        alert("Harga mobil (OTR) wajib diisi!");
        return;
      }
      if (!dp) {
        alert("DP (dalam %) wajib diisi!");
        return;
      }
      if (!tenor) {
        alert("Tenor (dalam tahun) wajib diisi!");
        return;
      }

      const otrVal = parseFloat(otr);
      const dpVal = parseFloat(dp);
      const tenorTahun = parseFloat(tenor);

      if (isNaN(otrVal) || isNaN(dpVal) || isNaN(tenorTahun) || tenorTahun <= 0) {
        alert("Semua nilai harus berupa angka dan tenor harus lebih dari 0.");
        return;
      }

      const tenorBulan = Math.round(tenorTahun * 12);
      const dpValue = otrVal * (dpVal / 100);
      const sisaKredit = otrVal - dpValue;
      const angsuranPerBulan = Math.round(sisaKredit / tenorBulan);

      const hasil = `
        <strong>Hasil Simulasi Kredit untuk ${client}:</strong><br>
        • Harga Mobil (OTR): <strong>Rp ${otrVal.toLocaleString('id-ID')}</strong><br>
        • Down Payment (${dpVal}%): Rp ${dpValue.toLocaleString('id-ID')}<br>
        • Sisa Kredit: Rp ${sisaKredit.toLocaleString('id-ID')}<br>
        • Tenor: ${tenorTahun} tahun (${tenorBulan} bulan)<br>
        • <strong>Angsuran per Bulan: Rp ${angsuranPerBulan.toLocaleString('id-ID')}</strong>
      `;

      const hasilDiv = document.getElementById('hasilAngsuran');
      hasilDiv.innerHTML = hasil;
      hasilDiv.classList.remove('d-none');
    }
  </script>
</body>
</html>
