<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>IMS Finance</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
</head>
<body>
  <div class="container py-5">
    <div class="row justify-content-center">
      <div class="col-md-8">
        <div class="card shadow-lg border-0">
          <div class="card-header bg-primary text-white text-center">
            <h4>IMS Finance</h4>
          </div>
          <div class="card-body">
            <form id="formAngsuran">
              <div class="mb-3">
                <label class="form-label">Nama Klien</label>
                <input type="text" class="form-control" id="client" placeholder="Contoh: Sugus">
              </div>
              <div class="mb-3">
                <label class="form-label">Harga Mobil (OTR)</label>
                <input type="number" class="form-control" id="otr" placeholder="Contoh: 240000000">
              </div>
              <div class="mb-3">
                <label class="form-label">Down Payment (DP) %</label>
                <input type="number" class="form-control" id="dpPercent" placeholder="Contoh: 20">
              </div>
              <div class="mb-3">
                <label class="form-label">Tenor (dalam tahun, contoh: 1 untuk 12 bulan)</label>
                <input type="number" class="form-control" id="tenorTahun" placeholder="Contoh: 1" step="0.1">
              </div>
              <button type="button" class="btn btn-primary w-100" onclick="hitungAngsuran()">Hitung Angsuran</button>
            </form>
            <div id="hasilAngsuran" class="mt-4 alert alert-info d-none"></div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <script>
    function hitungAngsuran() {
      const client = document.getElementById('client').value.trim();
      const otr = parseFloat(document.getElementById("otr").value);
      const dpPercent = parseFloat(document.getElementById("dpPercent").value);
      const tenorTahun = parseFloat(document.getElementById("tenorTahun").value);

      if (!client || isNaN(otr) || isNaN(dpPercent) || isNaN(tenorTahun) || tenorTahun <= 0) {
        alert("Pastikan semua data diisi dengan benar!");
        return;
      }

      const tenorBulan = Math.round(tenorTahun * 12);
      const dp = otr * (dpPercent / 100);
      const pokokUtang = otr - dp;

      let bunga = 0;
      if (tenorBulan <= 12) {
        bunga = 0.12;
      } else if (tenorBulan <= 24) {
        bunga = 0.14;
      } else {
        bunga = 0.165;
      }

      const totalBunga = pokokUtang * bunga;
      const totalHutang = pokokUtang + totalBunga;
      const angsuranPerBulan = totalHutang / tenorBulan;

      const hasil = `
        <strong>Hasil Simulasi Kredit untuk ${client}:</strong><br>
        • Harga Mobil (OTR): <strong>Rp ${otr.toLocaleString('id-ID')}</strong><br>
        • Down Payment (${dpPercent}%): Rp ${dp.toLocaleString('id-ID')}<br>
        • Pokok Utang: Rp ${pokokUtang.toLocaleString('id-ID')}<br>
        • Bunga (${(bunga * 100).toFixed(1)}%): Rp ${totalBunga.toLocaleString('id-ID')}<br>
        • Total Hutang: Rp ${totalHutang.toLocaleString('id-ID')}<br>
        • Tenor: ${tenorTahun} tahun (${tenorBulan} bulan)<br>
        • <strong>Angsuran per Bulan: Rp ${angsuranPerBulan.toLocaleString('id-ID')}</strong>
      `;

      const hasilDiv = document.getElementById('hasilAngsuran');
      hasilDiv.innerHTML = hasil;
      hasilDiv.classList.remove('d-none');
    }
  </script>
</body>
</html>
